@import "tailwindcss";

/* Configure dark mode to use .dark class */
@custom-variant dark (&:where(.dark, .dark *));

/* Light Mode Theme (Default) */
@theme {
  --color-background: oklch(99% 0 0);
  --color-foreground: oklch(15% 0.01 250);
  --color-card: oklch(100% 0 0);
  --color-card-foreground: oklch(15% 0.01 250);
  --color-popover: oklch(100% 0 0);
  --color-popover-foreground: oklch(15% 0.01 250);
  --color-primary: oklch(55% 0.18 250);
  --color-primary-foreground: oklch(100% 0 0);
  --color-secondary: oklch(97% 0.005 250);
  --color-secondary-foreground: oklch(20% 0.01 250);
  --color-muted: oklch(95% 0.005 250);
  --color-muted-foreground: oklch(48% 0.01 250);
  --color-accent: oklch(93% 0.01 250);
  --color-accent-foreground: oklch(15% 0.01 250);
  --color-destructive: oklch(58% 0.22 25);
  --color-destructive-foreground: oklch(100% 0 0);
  --color-border: oklch(90% 0.005 250);
  --color-input: oklch(90% 0.005 250);
  --color-ring: oklch(55% 0.18 250);
  --color-priority-low: oklch(65% 0.15 160);
  --color-priority-low-foreground: oklch(100% 0 0);
  --color-priority-medium: oklch(68% 0.18 60);
  --color-priority-medium-foreground: oklch(100% 0 0);
  --color-priority-high: oklch(58% 0.22 25);
  --color-priority-high-foreground: oklch(100% 0 0);
  --color-success: oklch(65% 0.15 160);
  --color-success-foreground: oklch(100% 0 0);
  --color-info: oklch(58% 0.16 240);
  --color-info-foreground: oklch(100% 0 0);
  --color-warning: oklch(68% 0.18 60);
  --color-warning-foreground: oklch(100% 0 0);
  --radius: 0.5rem;
}

/* Light Mode Theme - Set explicit values */
:root {
  /* Light mode values - explicit for better control */
  --bg: oklch(99% 0 0);
  --fg: oklch(15% 0.01 250);
  --card-bg: oklch(100% 0 0);
  --card-fg: oklch(15% 0.01 250);
  --popover-bg: oklch(100% 0 0);
  --popover-fg: oklch(15% 0.01 250);
  --primary-bg: oklch(55% 0.18 250);
  --primary-fg: oklch(100% 0 0);
  --secondary-bg: oklch(97% 0.005 250);
  --secondary-fg: oklch(20% 0.01 250);
  --muted-bg: oklch(95% 0.005 250);
  --muted-fg: oklch(48% 0.01 250);
  --accent-bg: oklch(90% 0.005 250);
  --accent-fg: oklch(15% 0.01 250);
  --destructive-bg: oklch(58% 0.22 25);
  --destructive-fg: oklch(100% 0 0);
  --bdr: oklch(90% 0.005 250);
  --inp: oklch(90% 0.005 250);
  --rng: oklch(55% 0.18 250);
}

/* Override with dark colors when .dark class is present */
.dark {
  --bg: oklch(18% 0.01 250);
  --fg: oklch(97% 0 0);
  --card-bg: oklch(22% 0.01 250);
  --card-fg: oklch(97% 0 0);
  --popover-bg: oklch(22% 0.01 250);
  --popover-fg: oklch(97% 0 0);
  --primary-bg: oklch(68% 0.16 250);
  --primary-fg: oklch(15% 0.01 250);
  --secondary-bg: oklch(28% 0.01 250);
  --secondary-fg: oklch(97% 0 0);
  --muted-bg: oklch(28% 0.01 250);
  --muted-fg: oklch(68% 0.01 250);
  --accent-bg: oklch(72% 0.12 200);
  --accent-fg: oklch(15% 0.01 250);
  --destructive-bg: oklch(68% 0.20 25);
  --destructive-fg: oklch(97% 0 0);
  --bdr: oklch(32% 0.01 250);
  --inp: oklch(32% 0.01 250);
  --rng: oklch(68% 0.16 250);
}

/* Map override variables back to color variables using @theme inline */
@theme inline {
  --color-background: var(--bg);
  --color-foreground: var(--fg);
  --color-card: var(--card-bg);
  --color-card-foreground: var(--card-fg);
  --color-popover: var(--popover-bg);
  --color-popover-foreground: var(--popover-fg);
  --color-primary: var(--primary-bg);
  --color-primary-foreground: var(--primary-fg);
  --color-secondary: var(--secondary-bg);
  --color-secondary-foreground: var(--secondary-fg);
  --color-muted: var(--muted-bg);
  --color-muted-foreground: var(--muted-fg);
  --color-accent: var(--accent-bg);
  --color-accent-foreground: var(--accent-fg);
  --color-destructive: var(--destructive-bg);
  --color-destructive-foreground: var(--destructive-fg);
  --color-border: var(--bdr);
  --color-input: var(--inp);
  --color-ring: var(--rng);
}

/* Color scheme for proper browser rendering */
:root {
  color-scheme: light;
}

.dark {
  color-scheme: dark;
}

* {
  border-color: var(--color-border);
}

html {
  scroll-behavior: smooth;
  background-color: var(--color-background);
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-feature-settings: 'rlig' 1, 'calt' 1;
  min-height: 100vh;
  transition: background-color 0.3s ease, color 0.3s ease;
}

*:focus-visible {
  outline-width: 2px;
  outline-offset: 2px;
  outline-color: var(--color-ring);
}

/* Touch-friendly tap targets for mobile (min 44x44px) */
.tap-target {
  min-height: 44px;
  min-width: 44px;
}

/* Smooth transitions */
.transition-smooth {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Priority badges */
.priority-low {
  background-color: var(--color-priority-low);
  color: var(--color-priority-low-foreground);
  font-weight: 600;
}

.priority-medium {
  background-color: var(--color-priority-medium);
  color: var(--color-priority-medium-foreground);
  font-weight: 600;
}

.priority-high {
  background-color: var(--color-priority-high);
  color: var(--color-priority-high-foreground);
  font-weight: 600;
}

/* Glass effect for modern UI */
.glass-effect {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.3);
}

.dark .glass-effect {
  background: rgba(30, 35, 45, 0.7);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Elevated card effect */
.card-elevated {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  transition-property: box-shadow;
  transition-duration: 300ms;
}

.card-elevated:hover {
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
}

/* Safe area padding for mobile devices */
.safe-area-padding {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}
